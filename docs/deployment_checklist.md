# Phoenix系统部署检查清单

## 📋 部署前检查

### 服务器要求
- [ ] Ubuntu 20.04 LTS 或更高版本
- [ ] 至少2核心CPU
- [ ] 至少4GB RAM
- [ ] 至少20GB可用磁盘空间
- [ ] 稳定的互联网连接

### 网络要求
- [ ] 服务器可以访问GitHub
- [ ] 服务器可以访问Docker Hub
- [ ] 防火墙允许SSH连接
- [ ] 防火墙允许Phoenix系统端口（8082, 5051, 5434）

## 🚀 部署步骤检查

### 1. 系统准备
- [ ] 系统已更新到最新版本
- [ ] 基础工具已安装（curl, wget, git等）
- [ ] 非root用户运行部署脚本

### 2. Docker环境
- [ ] Docker已正确安装
- [ ] Docker Compose已正确安装
- [ ] 当前用户在docker用户组中
- [ ] Docker服务正在运行

### 3. 项目部署
- [ ] 项目代码已克隆到/opt/phoenix
- [ ] 环境配置文件.env已创建
- [ ] 必要目录已创建（logs, exports）
- [ ] 目录权限已正确设置

### 4. 服务启动
- [ ] Phoenix Web服务器已启动
- [ ] Phoenix调度器已启动
- [ ] PostgreSQL数据库已启动
- [ ] Redis缓存已启动
- [ ] pgAdmin已启动

## 🔍 部署后验证

### 服务状态检查
- [ ] 所有Docker容器状态为"Up"
- [ ] 容器健康检查通过
- [ ] 无错误日志输出

### 网络访问检查
- [ ] Phoenix Airflow UI可访问（http://server-ip:8082）
- [ ] Phoenix pgAdmin可访问（http://server-ip:5051）
- [ ] 登录凭据正确

### 功能测试
- [ ] 数据库连接正常
- [ ] DAG列表可正常显示
- [ ] 可以查看DAG详情
- [ ] 可以手动触发DAG

### API配置检查
- [ ] EventRegistry API密钥已配置
- [ ] NewsAPI密钥已配置（如需要）
- [ ] OpenAI API密钥已配置（如需要）
- [ ] API调用测试通过

## 🔧 系统管理检查

### 监控设置
- [ ] 日志目录权限正确
- [ ] 可以查看实时日志
- [ ] 错误日志有适当的告警机制

### 备份设置
- [ ] 数据库备份脚本已配置
- [ ] 配置文件备份已设置
- [ ] 备份目录权限正确

### 安全设置
- [ ] 防火墙规则已配置
- [ ] 默认密码已更改（建议）
- [ ] 不必要的端口已关闭
- [ ] SSL证书已配置（如需要）

## 📊 性能检查

### 资源使用
- [ ] CPU使用率正常（<80%）
- [ ] 内存使用率正常（<80%）
- [ ] 磁盘使用率正常（<80%）
- [ ] 网络连接稳定

### 响应时间
- [ ] Web界面加载时间<5秒
- [ ] DAG触发响应时间<10秒
- [ ] 数据库查询响应时间<2秒

## 🚨 故障排除检查

### 常见问题
- [ ] 端口冲突已解决
- [ ] 权限问题已修复
- [ ] 网络连接问题已解决
- [ ] 依赖包版本兼容

### 日志检查
- [ ] 无严重错误日志
- [ ] 警告日志已处理
- [ ] 性能日志正常
- [ ] 安全日志无异常

## 📞 支持信息

### 文档准备
- [ ] 部署文档已保存
- [ ] 配置参数已记录
- [ ] 访问信息已记录
- [ ] 故障排除步骤已准备

### 联系信息
- [ ] 技术支持联系方式已记录
- [ ] 紧急联系信息已准备
- [ ] 回滚方案已准备

## ✅ 最终确认

### 部署完成确认
- [ ] 所有检查项已完成
- [ ] 系统功能正常
- [ ] 性能指标达标
- [ ] 安全配置正确
- [ ] 备份机制有效

### 文档更新
- [ ] 部署记录已更新
- [ ] 配置变更已记录
- [ ] 问题解决方案已记录
- [ ] 经验总结已保存

---

**注意**: 请逐项检查，确保每个步骤都正确完成。如有问题，请参考故障排除文档或联系技术支持。
